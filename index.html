<!DOCTYPE html>
<html lang="pt-BR">
<head>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2971907311010954"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>üß† Neuro Game ‚Äì Multimatem√°tica (Tema Claro)</title>
<style>
  /* Tema Claro */
  :root{
    --bg1:#f0f2f5; /* Fundo muito claro */
    --bg2:#e9ecef; /* Fundo um pouco mais escuro */
    --card:#ffffff; /* Cart√£o branco */
    --accent:#007bff; /* Azul prim√°rio */
    --accent2:#0056b3; /* Azul secund√°rio */
    --muted:#6c757d; /* Cinza para texto secund√°rio */
    --good:#28a745; /* Verde para acerto */
    --bad:#dc3545; /* Vermelho para erro */
    --text-color:#212529; /* Cor principal do texto */
    --card-shadow:0 4px 12px rgba(0,0,0,0.1); /* Sombra suave */
    --button-bg:#f8f9fa; /* Fundo de bot√£o claro */
    --button-text:#212529; /* Texto de bot√£o escuro */
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family:Inter, Poppins, "Segoe UI", Roboto, sans-serif;
    background:linear-gradient(135deg,var(--bg1),var(--bg2));
    color:var(--text-color); padding:20px;
  }
  header{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap}
  h1{margin:6px 0;color:var(--accent);text-shadow:none}
  .controls{display:flex;gap:10px;align-items:center}
  button, .toggle{cursor:pointer;border:1px solid var(--muted);padding:8px 12px;border-radius:10px;background:var(--button-bg);color:var(--button-text)}
  button:hover{opacity:.9; background:var(--bg2)}
  .level-btn.active{background:linear-gradient(90deg,var(--accent),var(--accent2)); color:#ffffff; border-color:var(--accent)}
  .container{display:grid;grid-template-columns:1fr 380px;gap:20px;margin-top:18px}
  .card{background:var(--card); padding:18px;border-radius:12px; box-shadow:var(--card-shadow); color:var(--text-color)}
  .game-top{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap}
  #areaAtual{font-size:18px;font-weight:600;color:var(--accent)}
  .question{font-size:26px;margin:14px 0;padding:14px;background:var(--button-bg);border-radius:10px;border:1px solid var(--bg2); color:var(--text-color)}
  .options{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}
  .option{padding:12px;border-radius:10px;background:var(--button-bg);border:2px solid var(--bg2);cursor:pointer;text-align:center; color:var(--text-color)}
  .option:hover{transform:translateY(-3px);transition:all .14s; background:var(--bg2)}
  .correct{background:var(--good);border-color:var(--good); color:#ffffff}
  .wrong{background:var(--bad);border-color:var(--bad); color:#ffffff}
  .meta{display:flex;gap:14px;align-items:center;flex-wrap:wrap}
  #score{font-weight:700}
  .stats{color:var(--muted);margin-top:10px;font-size:14px}
  #chart{margin-top:12px}
  .bar{height:12px;background:var(--bg2);border-radius:12px;margin:8px 0;overflow:hidden;border:1px solid var(--bg2)}
  .bar-fill{height:100%;background:linear-gradient(90deg,var(--accent),var(--accent2));width:0;transition:width .4s}
  aside .card{position:sticky;top:16px}
  .study {font-size:14px;color:var(--muted);text-align:left;line-height:1.5}
  .small{font-size:13px;color:var(--muted)}
  .muted-btn{background:var(--button-bg);border:1px solid var(--bg2);padding:6px 8px;border-radius:8px; color:var(--button-text)}
  .row{display:flex;gap:10px;align-items:center}
  .hint{margin-top:8px;background:var(--bg2);padding:10px;border-radius:8px;border:1px dashed var(--muted);min-height:38px; color:var(--text-color)}
  .diagram {margin-top:12px; display:flex; justify-content:center;}
  .center{display:flex;justify-content:center;align-items:center}
  .muted-2{color:var(--muted)}
  .badge { background:var(--bg2); padding:6px 8px; border-radius:8px; font-size:13px; color:var(--text-color) }
  @media(max-width:980px){.container{grid-template-columns:1fr;}}
</style>
</head>
<body>
<amp-auto-ads type="adsense"
        data-ad-client="ca-pub-2971907311010954">
</amp-auto-ads>
<header>
  <div>
    <h1>üß† Neuro Game ‚Äì Multimatem√°tica</h1>
    
  </div>

  <div class="controls">
    <a href="https://cromosvirtual.com" class="muted-btn" style="text-decoration:none; display:flex; align-items:center; height:38px;">Voltar</a>
    <button id="zoomToggle" class="muted-btn" style="font-size: 18px;">üîç</button>
    <div class="row">
      <button id="facilBtn" class="level-btn">Iniciante</button>
      <button id="medioBtn" class="level-btn">Intermedi√°rio</button>
      <button id="difBtn" class="level-btn">Avan√ßado</button>
    </div>
    <button id="studyToggle" class="muted-btn">Modo Estudo</button>
    <button id="clearOnlyErrors" class="muted-btn">Limpar erros</button>
    <button id="restartGame" class="muted-btn">Reiniciar</button>
  </div>
</header>

<div class="container">
  <main class="card">
    <div class="game-top">
      <div id="areaAtual">√Årea: ‚Äî</div>
      <div class="meta">
        <div id="score" class="badge">Pontua√ß√£o: 0</div>
        <div id="progress" class="small muted-2">0 acertos / 0 tentativas (0%)</div>
      </div>
    </div>

    <div id="question" class="question">Clique em um n√≠vel para come√ßar</div>

    <div id="options" class="options"></div>

    <div class="row" style="margin-top:12px;justify-content:space-between">
      <div style="display:flex;gap:8px">
        <button id="nextBtn" class="muted-btn">Pr√≥ximo</button>
        <button id="repeatBtn" class="muted-btn">Repetir √°rea</button>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <button id="explainBtn" class="muted-btn">Mostrar explica√ß√£o</button>
      </div>
    </div>

    <div id="hintBox" class="hint" style="display:none"></div>
    <div id="diagram" class="diagram" style="display:none"></div>

    <div class="stats">
      <div id="areaStats">Estat√≠sticas por √°rea: ‚Äî</div>
      <div id="recent" style="margin-top:6px" class="small muted-2">Perguntas recentes evitam repeti√ß√£o</div>
    </div>
  </main>

  <aside>
    <div class="card">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div style="font-weight:700">Painel de Estudo</div>
        <div class="small">F√≥rmulas essenciais (n√£o repetidas nas perguntas)</div>
      </div>

      <div id="studyPanel" class="study" style="margin-top:10px;display:none">
        <b>√Ålgebra</b>
        <div>- Quando temos x + 5 = 12, qual √© o valor de x? (x = 7)</div>
        <div>- Quando temos (x + 2)(x - 3) = 0, qual √© o valor de x? (x = -2 ou x = 3)</div>
        <hr>
        <b>Geometria</b>
        <div>- √Årea c√≠rculo: A = œÄ r¬≤</div>
        <div>- Tri√¢ngulo: A = (b¬∑h)/2</div>
        <hr>
        <b>Trigonometria</b>
        <div>- sen30 = 1/2, sen45 ‚âà ‚àö2/2 ‚âà 0.71, sen60 ‚âà ‚àö3/2 ‚âà 0.87</div>
        <hr>
        <b>C√°lculo</b>
        <div>- d/dx x¬≤ = 2x</div>
        <div>- ‚à´ x‚Åø dx = x‚Åø‚Å∫¬π/(n+1) + C</div>
        <hr>
        <b>Estat√≠stica</b>
        <div>- M√©dia = soma / n</div>
        <div>- Moda: valor mais frequente; Mediana: valor central</div>
      </div>

      <div id="chart" style="margin-top:12px"></div>

      <div style="margin-top:12px">
        <div class="small">N√≠vel atual: <span id="levelLabel">‚Äî</span></div>
        <div style="margin-top:6px" class="small">Alvo (Iniciante): <span id="easyTarget">3</span> acertos por √°rea</div>
      </div>

      <div style="margin-top:12px" class="footer-note small muted-2">Nota: explica√ß√µes aparecem apenas quando voc√™ clicar em ‚ÄúMostrar explica√ß√£o‚Äù.</div>
    </div>
  </aside>
</div>

<script>
/* O c√≥digo JavaScript do jogo √© mantido, apenas o CSS foi alterado */
/* ====== State & Config ====== */
const areas = ["√Ålgebra","Geometria","Trigonometria","C√°lculo","Estat√≠stica"];
let currentArea = 0;
let level = 'facil';
let score = 0;
const stats = {};
const recentHashes = [];
const RECENT_MAX = 60;
const easyTarget = 3;
let currentQ = null;
let studyMode = false;

areas.forEach(a => stats[a] = { total:0, correct:0 });

/* ====== Utils ====== */
const randInt = (a,b) => Math.floor(Math.random()*(b-a+1))+a;
const shuffle = (arr) => { for(let i=arr.length-1;i>0;i--){const j=randInt(0,i);[arr[i],arr[j]]=[arr[j],arr[i]]} return arr; };
const hashQ = q => btoa(unescape(encodeURIComponent(JSON.stringify(q))));

/* ====== DOM Refs ====== */
const d = id => document.getElementById(id);
const questionDiv = d('question'), optionsDiv = d('options'), areaLabel = d('areaAtual');
const scoreLabel = d('score'), progressLabel = d('progress'), chart = d('chart'), areaStats = d('areaStats');
const hintBox = d('hintBox'), diagramDiv = d('diagram'), studyPanel = d('studyPanel');
const facilBtn = d('facilBtn'), medioBtn = d('medioBtn'), difBtn = d('difBtn');
const studyToggle = d('studyToggle'), clearOnlyErrors = d('clearOnlyErrors'), explainBtn = d('explainBtn');
const nextBtn = d('nextBtn'), repeatBtn = d('repeatBtn'), levelLabel = d('levelLabel');
const restartGame = d('restartGame');
const zoomToggle = d('zoomToggle');

/* ====== Generators (like before, explanations stored but not shown in question) ====== */
function genAlgebra(){
  const t = randInt(1,3);
  if(t===1){
    const x = randInt(1,12);
    const add = randInt(1,12);
    const m = x + add;
    return {area:'√Ålgebra',type:'linear',text:`Se x + ${add} = ${m}, ent√£o x = ?`,answer:x,explain:`Subtraia ${add} dos dois lados: x = ${m} - ${add} = ${x}`};
  } else if(t===2){
    const a = randInt(1,5);
    const b = randInt(1,5);
    const roots = [-a,-b];
    return {area:'√Ålgebra',type:'quadratica',text:`Se (x ${a>=0?'+':'-'} ${Math.abs(a)})¬∑(x ${b>=0?'+':'-'} ${Math.abs(b)}) = 0, uma raiz poss√≠vel √© ?`,answer:roots[randInt(0,1)],explain:`As ra√≠zes poss√≠veis s√£o ${-a} e ${-b}`};
  } else {
    const x = randInt(1,12);
    const n = 2*x;
    return {area:'√Ålgebra',type:'linear2',text:`Se 2x = ${n}, ent√£o x = ?`,answer:x,explain:`Divida por 2: x = ${n}/2 = ${x}`};
  }
}

function genGeometria(){
  const t = randInt(1,3);
  if(t===1){
    const r = randInt(1,8);
    const approxPi = level==='facil'?3:3.14;
    const area = Number((approxPi * r * r).toFixed(2));
    return {area:'Geometria',type:'circulo',text:`√Årea de um c√≠rculo (œÄ‚âà${approxPi}) com raio ${r}?`,answer:area,explain:`A = œÄ r¬≤ = ${approxPi}¬∑${r}¬≤ = ${area}`,diagram:{type:'circle',r}};
  } else if(t===2){
    const b = randInt(2,12), h = randInt(1,10);
    const area = Number(((b*h)/2).toFixed(2));
    return {area:'Geometria',type:'triangulo',text:`√Årea de tri√¢ngulo com base ${b} e altura ${h}?`,answer:area,explain:`A=(b¬∑h)/2 = (${b}¬∑${h})/2 = ${area}`,diagram:{type:'triangle',b,h}};
  } else {
    const a = randInt(3,12), b = randInt(3,12);
    const hyp = Number(Math.sqrt(a*a+b*b).toFixed(2));
    return {area:'Geometria',type:'pyth',text:`Em tri√¢ngulo ret√¢ngulo com catetos ${a} e ${b}, a hipotenusa ‚âà ?`,answer:hyp,explain:`c = ‚àö(a¬≤+b¬≤) = ‚àö(${a*a}+${b*b}) ‚âà ${hyp}`,diagram:{type:'rightTriangle',a,b}};
  }
}

function genTrigonometria(){
  const angles = [0,30,45,60,90];
  const sinVals = {0:0,30:0.5,45:Math.SQRT2/2,60:Math.sqrt(3)/2,90:1};
  const ang = angles[randInt(0,angles.length-1)];
  return {area:'Trigonometria',type:'seno',text:`sen(${ang}¬∞) ‚âà ?`,answer:Number(sinVals[ang].toFixed(2)),explain:`Valor conhecido: sen(${ang}¬∞) ‚âà ${Number(sinVals[ang].toFixed(2))}`};
}

function genCalculo(){
  const t = randInt(1,2);
  if(t===1){
    return {area:'C√°lculo',type:'derivada',text:`d/dx (x¬≤) = ?`,answer:'2x',explain:'Regra da pot√™ncia: d/dx x^n = n¬∑x^(n-1)'};
  } else {
    const n = randInt(1,4);
    return {area:'C√°lculo',type:'integral',text:`‚à´ x^${n} dx = ? (sem +C)`,answer:`x^${n+1}/${n+1}`,explain:`Regra: ‚à´ x^n dx = x^(n+1)/(n+1)`};
  }
}

function genEstatistica(){
  const nums = [randInt(0,9), randInt(0,9), randInt(0,9)];
  const mean = Number(((nums[0]+nums[1]+nums[2])/3).toFixed(1));
  return {area:'Estat√≠stica',type:'media',text:`M√©dia de [${nums.join(', ')}] = ?`,answer:mean,explain:`Soma = ${nums[0]+nums[1]+nums[2]}, m√©dia = ${mean}`};
}

function generateQuestion(area){
  let q;
  if(area==='√Ålgebra') q = genAlgebra();
  if(area==='Geometria') q = genGeometria();
  if(area==='Trigonometria') q = genTrigonometria();
  if(area==='C√°lculo') q = genCalculo();
  if(area==='Estat√≠stica') q = genEstatistica();

  // montar op√ß√µes (respostas)
  let options = [];
  const ans = q.answer;
  if(typeof ans === 'number' || !isNaN(Number(ans))){
    const numAns = Number(ans);
    if(level==='facil'){
      const base = Math.round(numAns);
      options = [base, base+1, base-1, base+2];
    } else if(level==='medio'){
      options = [numAns, numAns + randInt(1,4), Math.max(Math.round(numAns)-randInt(1,3),0), Math.round(numAns+randInt(-2,5))];
    } else {
      options = [numAns, Math.round(numAns+randInt(2,8)), Math.round(Math.max(numAns-randInt(2,6),0)), Math.round(numAns+randInt(-5,10))];
    }
  } else {
    options = [ans, 'x', '2', 'x¬≤', '3'];
  }

  options = shuffle(Array.from(new Set(options)).slice(0,5));
  if(!options.some(o => String(o)===String(ans))) { options[0] = ans; shuffle(options); }
  while(options.length < 5) { options.push(randInt(1, 100)); options = shuffle(Array.from(new Set(options)).slice(0,5)); }
  q.options = options;
  return q;
}

/* ====== Render & Interaction (explanations only on demand) ====== */
function renderQuestion(q){
  currentQ = q;
  areaLabel.textContent = `√Årea: ${q.area}`;
  levelLabel.textContent = level;
  questionDiv.textContent = q.text; // no explanation injected here
  optionsDiv.innerHTML = '';
  hintBox.style.display='none';
  diagramDiv.style.display='none';
  q.options.forEach(opt=>{
    const el = document.createElement('div');
    el.className='option';
    el.textContent=opt;
    el.onclick = ()=>onAnswer(el,opt,q);
    optionsDiv.appendChild(el);
  });
  if(q.diagram) renderDiagram(q.diagram);
}

function renderDiagram(diag){
  diagramDiv.innerHTML = '';
  diagramDiv.style.display='flex';
  if(diag.type==='circle'){
    const r = diag.r;
    const size = 140;
    const svg = `<svg width="${size}" height="${size}" viewBox="0 0 ${size} ${size}">
      <circle cx="${size/2}" cy="${size/2}" r="${size/2 - 8}" stroke="var(--text-color)" stroke-opacity="0.2" fill="none" />
      <text x="${size/2}" y="${size/2}" fill="var(--accent)" font-size="12" text-anchor="middle" dominant-baseline="middle">r=${r}</text>
    </svg>`;
    diagramDiv.innerHTML = svg;
  } else if(diag.type==='triangle' || diag.type==='rightTriangle'){
    const w = 180, h = 120;
    if(diag.type==='triangle'){
      const b = diag.b, hh = diag.h;
      const svg = `<svg width="${w}" height="${h}" viewBox="0 0 ${w} ${h}">
        <polygon points="10,${h-10} ${w-10},${h-10} ${w/2},${h-10-hh}" fill="none" stroke="var(--accent)" stroke-opacity="0.25"/>
        <text x="${w/2}" y="${h-8}" fill="var(--accent)" font-size="12" text-anchor="middle">base=${b}</text>
      </svg>`;
      diagramDiv.innerHTML = svg;
    } else {
      const a = diag.a, b = diag.b;
      const svg = `<svg width="${w}" height="${h}" viewBox="0 0 ${w} ${h}">
        <polyline points="20,${h-10} 20,20 ${w-20},${h-10}" fill="none" stroke="var(--accent)" stroke-opacity="0.25"/>
        <text x="30" y="${h/2}" fill="var(--accent)" font-size="12">cateto=${a}</text>
        <text x="${w-60}" y="${h-20}" fill="var(--accent)" font-size="12">cateto=${b}</text>
      </svg>`;
      diagramDiv.innerHTML = svg;
    }
  }
}

function onAnswer(el,choice,q){
  const correct = String(choice) === String(q.answer);
  stats[q.area].total++;
  if(correct){
    el.classList.add('correct'); score+=10; stats[q.area].correct++;
  } else {
    el.classList.add('wrong'); score=Math.max(score-5,0);
  }
  updateStats();
  // add to recent to avoid repetition
  const h = hashQ({text:q.text,options:q.options});
  recentHashes.push(h); if(recentHashes.length>RECENT_MAX) recentHashes.shift();

  // after delay go next (in easy stay until target)
  setTimeout(()=>{
    if(level==='facil' && stats[q.area].correct < easyTarget){
      // stay same area
    } else {
      currentArea = (currentArea + 1) % areas.length;
    }
    nextUniqueQuestion();
  },700);
}

/* ====== Repetition control ====== */
function nextUniqueQuestion(){
  let tries = 0;
  const area = areas[currentArea];
  while(tries < 120){
    const q = generateQuestion(area);
    const h = hashQ({text:q.text,options:q.options});
    if(!recentHashes.includes(h)){
      renderQuestion(q);
      return;
    }
    tries++;
  }
  // fallback
  renderQuestion(generateQuestion(area));
}

/* ====== Stats display (formatted like you provided) ====== */
function formatAreaStatsString(){
  const parts = [];
  for(const a of areas){
    const t = stats[a].total, c = stats[a].correct;
    const pct = t? Math.round(c/t*100) : 0;
    parts.push(`${a}: ${c}/${t} (${pct}%)`);
  }
  return parts.join(' | ');
}

function updateStats(){
  scoreLabel.textContent = `Pontua√ß√£o: ${score}`;
  const totalAll = areas.reduce((s,a)=> s + stats[a].total, 0);
  const correctAll = areas.reduce((s,a)=> s + stats[a].correct, 0);
  progressLabel.textContent = `${correctAll} acertos / ${totalAll} tentativas (${ totalAll? Math.round(correctAll/totalAll*100):0 }%)`;
  areaStats.textContent = formatAreaStatsString();
  // chart
  chart.innerHTML = '';
  areas.forEach(a=>{
    const t=stats[a].total, c=stats[a].correct;
    const pct = t?Math.round(c/t*100):0;
    const lab = document.createElement('div'); lab.className='small'; lab.textContent = `${a}: ${pct}%`;
    const bar = document.createElement('div'); bar.className='bar';
    const fill = document.createElement('div'); fill.className='bar-fill'; fill.style.width = `${pct}%`;
    bar.appendChild(fill);
    chart.appendChild(lab); chart.appendChild(bar);
  });
}

/* ====== Event Handlers ====== */
function setLevel(newLevel){
  level = newLevel;
  [facilBtn, medioBtn, difBtn].forEach(btn => btn.classList.remove('active'));
  d(`${newLevel}Btn`).classList.add('active');
  nextUniqueQuestion();
}

facilBtn.onclick = ()=>setLevel('facil');
medioBtn.onclick = ()=>setLevel('medio');
difBtn.onclick = ()=>setLevel('dif');
let currentZoom = 100; // Porcentagem
const ZOOM_STEP = 10;

function toggleZoom() {
  if (currentZoom === 100) {
    currentZoom = 110;
  } else if (currentZoom === 110) {
    currentZoom = 120;
  } else {
    currentZoom = 100;
  }
  document.body.style.fontSize = `${currentZoom}%`;
}

zoomToggle.onclick = toggleZoom; // Corrigido o erro de digita√ß√£o aqui
studyToggle.onclick = ()=>{
  studyMode = !studyMode;
  studyPanel.style.display = studyMode ? 'block' : 'none';
  studyToggle.textContent = studyMode ? 'Modo Jogo' : 'Modo Estudo';
};
clearOnlyErrors.onclick = ()=>{
  // L√≥gica para limpar apenas erros (mantida a simplicidade)
  score = 0;
  recentHashes.length = 0;
  areas.forEach(a => stats[a] = { total:0, correct:0 });
  updateStats();
  nextUniqueQuestion();
};
restartGame.onclick = ()=>{
  // L√≥gica para reiniciar o jogo
  score = 0;
  recentHashes.length = 0;
  areas.forEach(a => stats[a] = { total:0, correct:0 });
  updateStats();
  setLevel('facil');
};
explainBtn.onclick = ()=>{
  if(currentQ){
    hintBox.textContent = currentQ.explain;
    hintBox.style.display = 'block';
  }
};
nextBtn.onclick = ()=>nextUniqueQuestion();
repeatBtn.onclick = ()=>renderQuestion(currentQ); // Repete a pergunta atual

/* ====== Initialization ====== */
setLevel('facil');
updateStats();
</script>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atividade de Fra√ß√µes Interativa</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --primary: #3498db;
            --success: #2ecc71;
            --bg: #f0f2f5;
            --text: #2c3e50;
        }

        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background-color: var(--bg); 
            color: var(--text);
            margin: 0; padding: 20px; 
        }

        header {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            margin-bottom: 30px;
            position: sticky; top: 10px; z-index: 1000;
        }

        .stats {
            display: flex; justify-content: space-around; align-items: center;
            flex-wrap: wrap; gap: 15px;
        }

        .progress-container {
            font-size: 1.2rem; font-weight: bold;
        }

        .grid-atividades { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); 
            gap: 25px; max-width: 1100px; margin: 0 auto; 
        }

        .fraction-card { 
            background: white; border-radius: 20px; padding: 20px;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 3px solid transparent;
            position: relative;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        /* O "V" de Acerto */
        .fraction-card.correct::before {
            content: "‚úì";
            position: absolute; top: 10px; right: 15px;
            background: var(--success); color: white;
            width: 30px; height: 30px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-weight: bold; font-size: 18px;
            animation: popIn 0.4s ease;
        }

        .fraction-card.correct {
            border-color: var(--success);
            background-color: #f0fff4;
        }

        @keyframes popIn {
            0% { transform: scale(0); }
            80% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .fraction-text { font-size: 32px; font-weight: 800; margin-bottom: 15px; }

        .slice { 
            fill: #fff; stroke: #333; stroke-width: 1.5; 
            cursor: pointer; transition: fill 0.2s; 
        }
        .slice:hover { fill: #f0f0f0; }
        .slice.selected { fill: var(--primary); stroke: #1a5a8a; }

        button {
            padding: 12px 24px; border: none; border-radius: 10px;
            font-weight: bold; cursor: pointer; transition: 0.2s;
        }
        .btn-reset { background: #ff7675; color: white; }
        .btn-reset:hover { background: #d63031; }

        footer { margin-top: 50px; color: #95a5a6; font-size: 0.9rem; }
    </style>
</head>
<body>

    <header>
        <div class="stats">
            <div class="progress-container">
                Progresso: <span id="acertos">0</span> / <span id="total">0</span> fatias corretas
            </div>
            <button class="btn-reset" onclick="reiniciar()">Limpar Tudo</button>
        </div>
    </header>

    <div id="grid" class="grid-atividades"></div>

    <footer>
        Dica: Clique nas fatias para pintar a fra√ß√£o indicada.
    </footer>

<script>
    // Configura√ß√£o das quest√µes baseada na sua imagem
    const questoes = [
        { id: 1, n: 5, d: 9 }, { id: 2, n: 2, d: 6 }, { id: 3, n: 7, d: 7 },
        { id: 4, n: 1, d: 11 }, { id: 5, n: 4, d: 9 }, { id: 6, n: 9, d: 12 },
        { id: 7, n: 1, d: 5 }, { id: 8, n: 1, d: 2 }, { id: 9, n: 2, d: 2 },
        { id: 10, n: 7, d: 12 }, { id: 11, n: 4, d: 6 }, { id: 12, n: 3, d: 6 }
    ];

    function init() {
        const grid = document.getElementById('grid');
        grid.innerHTML = '';
        document.getElementById('total').innerText = questoes.length;
        
        questoes.forEach(q => {
            const salvo = JSON.parse(localStorage.getItem(`frac_${q.id}`)) || [];
            const card = document.createElement('div');
            card.className = `fraction-card ${salvo.length === q.n ? 'correct' : ''}`;
            card.id = `card-${q.id}`;
            
            card.innerHTML = `<div class="fraction-text">${q.n}/${q.d}</div>`;

            const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            svg.setAttribute("viewBox", "0 0 100 100");
            svg.setAttribute("width", "140");

            for (let i = 0; i < q.d; i++) {
                const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
                path.setAttribute("d", drawSlice(50, 50, 45, (i * 360) / q.d, ((i + 1) * 360) / q.d));
                path.setAttribute("class", `slice ${salvo.includes(i) ? 'selected' : ''}`);
                
                path.onclick = () => {
                    path.classList.toggle('selected');
                    atualizarEstado(card, q);
                };
                svg.appendChild(path);
            }

            card.appendChild(svg);
            grid.appendChild(card);
        });
        contarProgresso();
    }

    function drawSlice(x, y, radius, startAngle, endAngle) {
        const start = polarToCartesian(x, y, radius, endAngle);
        const end = polarToCartesian(x, y, radius, startAngle);
        const largeArcFlag = endAngle - startAngle <= 180 ? "0" : "1";
        return `M ${x} ${y} L ${start.x} ${start.y} A ${radius} ${radius} 0 ${largeArcFlag} 0 ${end.x} ${end.y} Z`;
    }

    function polarToCartesian(centerX, centerY, radius, angleInDegrees) {
        const radians = (angleInDegrees - 90) * Math.PI / 180.0;
        return { x: centerX + (radius * Math.cos(radians)), y: centerY + (radius * Math.sin(radians)) };
    }

    function atualizarEstado(card, q) {
        const fatias = card.querySelectorAll('.slice');
        const selecionadas = [];
        fatias.forEach((s, i) => { if(s.classList.contains('selected')) selecionadas.push(i); });

        localStorage.setItem(`frac_${q.id}`, JSON.stringify(selecionadas));

        const eraCorreto = card.classList.contains('correct');
        const agoraCorreto = selecionadas.length === q.n;

        if (agoraCorreto) {
            card.classList.add('correct');
            if (!eraCorreto) checkVitoriaGeral(); 
        } else {
            card.classList.remove('correct');
        }
        contarProgresso();
    }

    function contarProgresso() {
        const totalAcertos = document.querySelectorAll('.fraction-card.correct').length;
        document.getElementById('acertos').innerText = totalAcertos;
    }

    function checkVitoriaGeral() {
        const totalAcertos = document.querySelectorAll('.fraction-card.correct').length;
        if (totalAcertos === questoes.length) {
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
        }
    }

    function reiniciar() {
        if(confirm("Deseja apagar seu progresso?")) {
            localStorage.clear();
            init();
        }
    }

    init();
</script>_______________________________________

<head>
    <meta charset="UTF-8">
    <title>Desafio de √Çngulos Interativo</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root { --primary: #f1c40f; --success: #2ecc71; --dark: #2c3e50; }
        body { font-family: 'Segoe UI', sans-serif; text-align: center; background: #f0f2f5; padding: 20px; }
        
        .card {
            background: white; border-radius: 20px; padding: 30px;
            display: inline-block; box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            position: relative;
        }

        /* Estilo do V de acerto */
        .check-v {
            fill: var(--success);
            font-size: 50px;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .correct .check-v { opacity: 1; animation: bounce 0.5s ease; }

        @keyframes bounce {
            0% { transform: scale(0); }
            80% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .angle-text {
            font-size: 18px;
            font-weight: bold;
            fill: #34495e;
            pointer-events: none;
        }

        .options { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px; }
        button {
            padding: 12px; border: 2px solid #ddd; border-radius: 10px;
            background: white; font-weight: bold; cursor: pointer;
        }
        button:hover { border-color: var(--dark); }
        .wrong { background: #ff7675; color: white; }
    </style>
</head>
<body>

    <h2>Identifique o √Çngulo</h2>
    <div class="card" id="card">
        <div id="svg-container"></div>
        <div class="options" id="btn-container"></div>
    </div>

<script>
    const desafios = [30, 45, 60, 90, 120, 135, 180];
    let atual = 0;

    function render(graus, revelado = false) {
        const container = document.getElementById('svg-container');
        const cx = 100, cy = 100, r = 80;
        const rad = graus * Math.PI / 180;
        
        // Coordenadas para o texto no "meio" do arco
        const meioRad = (graus / 2) * Math.PI / 180;
        const tx = cx + 45 * Math.cos(-meioRad);
        const ty = cy + 45 * Math.sin(-meioRad);

        const x2 = cx + r * Math.cos(-rad);
        const y2 = cy + r * Math.sin(-rad);

        container.innerHTML = `
            <svg width="220" height="180" viewBox="0 0 200 150">
                <line x1="${cx}" y1="${cy}" x2="${cx+r}" y2="${cy}" stroke="black" stroke-width="4" />
                <line x1="${cx}" y1="${cy}" x2="${x2}" y2="${y2}" stroke="black" stroke-width="4" />
                
                <path d="M ${cx+35} ${cy} A 35 35 0 0 0 ${cx + 35*Math.cos(-rad)} ${cy + 35*Math.sin(-rad)} L ${cx} ${cy} Z" 
                      fill="${graus === 90 ? '#eee' : '#f1c40f'}" stroke="#d4ac0d" />
                
                ${graus === 90 ? `<rect x="${cx}" y="${cy-15}" width="15" height="15" fill="none" stroke="black" />` : ''}

                <text x="${tx}" y="${ty}" class="angle-text" text-anchor="middle" alignment-baseline="middle">
                    ${revelado ? graus + '¬∞' : '?'}
                </text>

                <text x="${cx - 10}" y="${cy - 10}" class="check-v" id="visto">‚úì</text>
            </svg>
        `;
    }

    function carregar() {
        const valor = desafios[atual];
        const card = document.getElementById('card');
        const btns = document.getElementById('btn-container');
        
        card.classList.remove('correct');
        render(valor, false);

        btns.innerHTML = '';
        const escolhas = [valor, valor + 20, valor - 15, 90].filter((v, i, a) => a.indexOf(v) === i);
        escolhas.sort(() => Math.random() - 0.5).forEach(opt => {
            const b = document.createElement('button');
            b.innerText = opt + '¬∞';
            b.onclick = () => {
                if(opt === valor) {
                    card.classList.add('correct');
                    render(valor, true);
                    confetti({ particleCount: 100 });
                    setTimeout(() => { atual = (atual + 1) % desafios.length; carregar(); }, 2000);
                } else {
                    b.classList.add('wrong');
                }
            };
            btns.appendChild(b);
        });
    }

    carregar();
</script>


</body>
<br>Doar  Pix :  914e4b6a-91b4-4e50-bb7c-c610dc90407a</br>				

contatoscromos@cromosvirtual.com
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2971907311010954"
     crossorigin="anonymous"></script>

</html>
