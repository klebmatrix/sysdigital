<!DOCTYPE html>
<html lang="pt-br" ng-app="NeuroApp">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeuroWorkspace Elite - Vers√£o Final</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <style>
        :root {
            --primary: #2563eb; --bg: #020617; --surface: #0f172a;
            --text: #f8fafc; --border: #334155; --success: #10b981; 
            --accent: #38bdf8; --gold: #fbbf24; --warning: #f59e0b;
        }
        body { margin: 0; font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); display: flex; height: 100vh; overflow: hidden; }
        
        /* Sidebar Navigation */
        .sidebar { width: 80px; background: #000; display: flex; flex-direction: column; align-items: center; padding: 20px 0; border-right: 1px solid var(--border); flex-shrink: 0; }
        .nav-dot { width: 50px; height: 50px; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-bottom: 15px; cursor: pointer; transition: 0.3s; color: #64748b; font-size: 1.2rem; border: none; background: none; }
        .nav-dot.active { background: var(--primary); color: white; }

        /* Left Panel - Rules & Dice */
        .side-panel { width: 340px; background: var(--surface); border-right: 2px solid var(--border); display: flex; flex-direction: column; align-items: center; padding: 20px; overflow-y: auto; }
        .dice-3d { width: 100px; height: 100px; background: #fff; border-radius: 18px; display: flex; align-items: center; justify-content: center; font-size: 3.5rem; color: #000; font-weight: 900; cursor: pointer; margin-bottom: 20px; border: 4px solid #fff; box-shadow: 0 5px 0 #cbd5e1; }
        .dice-3d.berlinda { border-color: var(--warning); box-shadow: 0 0 20px var(--warning); animation: pulse 1s infinite; }
        
        .rules-container { width: 100%; background: #111827; border-radius: 15px; padding: 20px; }
        .rule-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; font-size: 1.1rem; }
        .dice-icon { width: 28px; margin-right: 10px; }
        .eliminado-box { margin-top: 25px; border-top: 1px solid #1e293b; padding-top: 15px; display: flex; justify-content: space-between; color: #38bdf8; font-weight: bold; }

        /* Main Content Areas */
        .main-content { flex-grow: 1; padding: 30px; overflow-y: auto; }
        .tab-content { display: none; max-width: 850px; margin: 0 auto; }
        .tab-content.active { display: block; }
        .card { background: rgba(30, 41, 59, 0.7); border: 1px solid var(--border); border-radius: 20px; padding: 25px; }

        .btn-shuffle-top { background: var(--primary); color: white; border: none; padding: 12px 20px; border-radius: 10px; font-weight: bold; cursor: pointer; display: flex; align-items: center; gap: 10px; transition: 0.2s; }
        .btn-shuffle-top:hover { background: #1d4ed8; }

        .choice-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-top: 20px; }
        .btn-choice { background: #1e293b; color: white; border: 1px solid var(--border); padding: 15px; border-radius: 12px; font-size: 1.2rem; cursor: pointer; font-weight: bold; transition: 0.2s; }
        .btn-choice:hover { background: var(--primary); transform: translateY(-2px); }

        .grid-naval { display: grid; grid-template-columns: repeat(5, 60px); gap: 10px; justify-content: center; margin-top: 20px; }
        .btn-naval { width: 60px; height: 60px; background: #1e40af; border: none; border-radius: 10px; color: white; cursor: pointer; font-size: 1.5rem; }

        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: none; align-items: center; justify-content: center; z-index: 2000; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
    </style>
</head>
<body ng-controller="MainCtrl">

    <nav class="sidebar">
        <a href="https://cromosvirtual.com/" class="nav-dot"><i class="fa-solid fa-arrow-left"></i></a>
        <button class="nav-dot active" onclick="switchTab('tab-frac', this)"><i class="fa-solid fa-pizza-slice"></i></button>
        <button class="nav-dot" onclick="switchTab('tab-equacao', this)"><i class="fa-solid fa-calculator"></i></button>
        <button class="nav-dot" onclick="switchTab('tab-naval', this)"><i class="fa-solid fa-ship"></i></button>
        <button class="nav-dot" onclick="switchTab('tab-ang', this)"><i class="fa-solid fa-compass"></i></button>
    </nav>

    <aside class="side-panel">
        <div id="dice" class="dice-3d" onclick="rollDice()">1</div>
        <div class="rules-container">
            <div class="rule-row"><span><img src="https://cdn-icons-png.flaticon.com/512/7144/7144131.png" class="dice-icon">6</span><span style="color: #10b981;">+100 pts + Joga</span></div>
            <div class="rule-row"><span><img src="https://cdn-icons-png.flaticon.com/512/7144/7144133.png" class="dice-icon">5</span><span>+70 pts + Passa</span></div>
            <div class="rule-row"><span><img src="https://cdn-icons-png.flaticon.com/512/7144/7144123.png" class="dice-icon">4</span><span>+50 pts + Fra√ß√£o</span></div>
            <div class="rule-row"><span><img src="https://cdn-icons-png.flaticon.com/512/7144/7144122.png" class="dice-icon">3</span><span>+30 pts + Fra√ß√£o</span></div>
            <div class="rule-row"><span><img src="https://cdn-icons-png.flaticon.com/512/7144/7144130.png" class="dice-icon">2</span><span>+5 pts + Fra√ß√£o</span></div>
            <div class="rule-row"><span><img src="https://cdn-icons-png.flaticon.com/512/7144/7144119.png" class="dice-icon">1</span><span style="color: #f59e0b;">BERLINDA</span></div>
            <div class="eliminado-box"><span>‚ö†Ô∏è Dois 1s</span><span>ELIMINADO</span></div>
        </div>
        <div id="status-msg" style="margin-top: 20px; font-weight: bold; color: var(--gold); text-align: center;">Clique no dado!</div>
    </aside>

    <main class="main-content">
        <div id="tab-frac" class="tab-content active">
            <div class="card">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px">
                    <h2>Fra√ß√µes sem Repeti√ß√£o</h2>
                    <button class="btn-shuffle-top" onclick="initFrac()">
                        <i class="fa-solid fa-rotate"></i> EMBARALHAR AGORA
                    </button>
                </div>
                <div id="frac-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 15px;"></div>
            </div>
        </div>

        <div id="tab-equacao" class="tab-content">
            <div class="card" style="text-align:center">
                <h2>O X da Quest√£o</h2>
                <div id="eq-display" style="font-size:3.5rem; color:var(--accent); margin:30px 0; font-weight:bold"></div>
                <div id="eq-opts" class="choice-grid"></div>
            </div>
        </div>

        <div id="tab-naval" class="tab-content">
            <div class="card">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <h2>‚öì Batalha Naval</h2>
                    <div style="font-size:1.2rem">‚ù§Ô∏è Vidas: <span id="vds" style="color:var(--warning); font-weight:bold">10</span> | Acertos: <span id="bxs" style="color:var(--success); font-weight:bold">0</span>/5</div>
                </div>
                <div id="grid-naval" class="grid-naval"></div>
            </div>
        </div>

        <div id="tab-ang" class="tab-content">
            <div class="card" style="text-align:center">
                <h2>Identifique o √Çngulo (¬∞)</h2>
                <div id="ang-svg" style="margin:30px 0;"></div>
                <div id="ang-opts" class="choice-grid"></div>
            </div>
        </div>
    </main>

    <div id="modalNaval" class="modal"><div class="card" style="width:280px; text-align:center"><h3>C√°lculo</h3><h1 id="calc-txt" style="color:var(--accent); margin: 20px 0;"></h1><input type="number" id="calc-input" style="width:100%; padding:15px; font-size:2rem; text-align:center; border-radius:10px; background:#0f172a; color:white; border:none; margin-bottom:20px"><button onclick="processarTiro()" style="width:100%; padding: 15px; background: var(--primary); color: white; border: none; border-radius: 10px; font-weight: bold; cursor: pointer;">FOGO!</button></div></div>

<script>
    let inBerlinda = false;

    // DADO
    function rollDice() {
        const d = document.getElementById('dice'), msg = document.getElementById('status-msg');
        d.innerText = "...";
        setTimeout(() => {
            const v = Math.floor(Math.random()*6)+1;
            d.innerText = v;
            if(inBerlinda && v === 1) { d.innerText = "‚ùå"; msg.innerText = "ELIMINADO!"; return; }
            if(v === 1) { inBerlinda = true; d.classList.add('berlinda'); msg.innerText = "BERLINDA!"; }
            else { inBerlinda = false; d.classList.remove('berlinda'); msg.innerText = "Sua vez!"; }
        }, 400);
    }

    // FRA√á√ïES
    function initFrac() {
        const g = document.getElementById('frac-grid'); g.innerHTML = '';
        let pool = [];
        const denominators = [2, 3, 4, 5, 6, 8, 10];
        denominators.forEach(d => { for(let n = 1; n < d; n++) { pool.push({n, d}); } });
        for (let i = pool.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [pool[i], pool[j]] = [pool[j], pool[i]];
        }
        pool.slice(0, 12).forEach(item => {
            const b = document.createElement('div'); b.style.textAlign='center'; b.style.padding='10px'; b.style.background='#1e293b'; b.style.borderRadius='10px';
            b.innerHTML = `<h4>${item.n}/${item.d}</h4><svg viewBox="0 0 100 100" width="75">${drawPizza(item.n,item.d)}</svg>`;
            g.appendChild(b);
        });
    }

    function drawPizza(n,d){
        let s = ''; for(let i=0; i<d; i++){
            const st = (i*360)/d, en = ((i+1)*360)/d, rad = a => (a-90)*Math.PI/180;
            const path = `M 50 50 L ${50+40*Math.cos(rad(st))} ${50+40*Math.sin(rad(st))} A 40 40 0 0 1 ${50+40*Math.cos(rad(en))} ${50+40*Math.sin(rad(en))} Z`;
            s += `<path d="${path}" style="fill:#0f172a; stroke:#475569; cursor:pointer" onclick="this.style.fill='#38bdf8'"></path>`;
        } return s;
    }

    // EQUA√á√ïES
    function generateEquation() {
        const x = Math.floor(Math.random()*10)+1, a = Math.floor(Math.random()*4)+2, b = Math.floor(Math.random()*12)+1;
        const res = (a*x)+b; document.getElementById('eq-display').innerText = `${a}x + ${b} = ${res}`;
        const opts = [x, x+2, x-1, x+3].sort(()=>Math.random()-0.5);
        const div = document.getElementById('eq-opts'); div.innerHTML = '';
        opts.forEach(o => {
            const btn = document.createElement('button'); btn.className='btn-choice'; btn.innerText='x = '+o;
            btn.onclick = () => { if(o===x){ confetti(); generateEquation(); } };
            div.appendChild(btn);
        });
    }

    // √ÇNGULOS
    function initAng() {
        const ags = [30, 45, 60, 90, 120, 150, 180], t = ags[Math.floor(Math.random()*ags.length)];
        const r = (t*Math.PI)/180, x = 100+75*Math.cos(-r), y = 100+75*Math.sin(-r);
        document.getElementById('ang-svg').innerHTML = `<svg width="200" height="150" style="background:#1e293b; border-radius:15px; padding:10px"><line x1="100" y1="130" x2="180" y2="130" stroke="white" stroke-width="5"/><line x1="100" y1="130" x2="${x}" y2="${y+30}" stroke="white" stroke-width="5"/><circle cx="100" cy="130" r="6" fill="cyan"/></svg>`;
        const opts = [t, t+15, 90, t-15].sort(()=>Math.random()-0.5);
        const div = document.getElementById('ang-opts'); div.innerHTML = '';
        opts.forEach(o => {
            const btn = document.createElement('button'); btn.className='btn-choice'; btn.innerText=o+'¬∞';
            btn.onclick = () => { if(o===t){ confetti(); initAng(); } };
            div.appendChild(btn);
        });
    }

    // NAVAL
    let nV=10, nB=0, nMap=[], nTarget=null;
    function initNaval() {
        const g = document.getElementById('grid-naval'); g.innerHTML = ''; nMap=[]; nV=10; nB=0;
        let ships = []; while(ships.length<5) { let p=Math.floor(Math.random()*25); if(!ships.includes(p)) ships.push(p); }
        for(let i=0; i<25; i++) {
            let a=Math.floor(Math.random()*15)+1, b=Math.floor(Math.random()*15)+1;
            nMap.push({q:`${a} + ${b}`, r:a+b, s:ships.includes(i), h:false});
            let d = document.createElement('button'); d.className='btn-naval'; d.innerHTML='üåä';
            d.onclick = () => { if(nMap[i].h || nV<=0) return; nTarget=i; document.getElementById('calc-txt').innerText=nMap[i].q; document.getElementById('modalNaval').style.display='flex'; };
            g.appendChild(d);
        }
        updateNavalStats();
    }
    function processarTiro() {
        const val = parseInt(document.getElementById('calc-input').value), al = nMap[nTarget], div = document.getElementById('grid-naval').children[nTarget];
        if(val === al.r) { al.h=true; if(al.s) { div.innerHTML='üí•'; nB++; confetti(); } else div.innerHTML='‚úÖ'; } else { nV--; }
        document.getElementById('modalNaval').style.display='none'; document.getElementById('calc-input').value=''; updateNavalStats();
    }
    function updateNavalStats() { document.getElementById('vds').innerText=nV; document.getElementById('bxs').innerText=nB; }

    // TABS
    function switchTab(id, btn) {
        document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.nav-dot').forEach(n => n.classList.remove('active'));
        document.getElementById(id).classList.add('active'); btn.classList.add('active');
    }

    angular.module('NeuroApp', []).controller('MainCtrl', function($scope){});
    window.onload = () => { initFrac(); initNaval(); generateEquation(); initAng(); };
</script>
</body>
</html>